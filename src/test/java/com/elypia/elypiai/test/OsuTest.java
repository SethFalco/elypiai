package com.elypia.elypiai.test;

import com.elypia.elypiai.osu.*;
import com.elypia.elypiai.osu.data.*;
import com.elypia.elypiai.utils.Country;
import okhttp3.mockwebserver.*;
import org.junit.jupiter.api.*;

import java.io.IOException;
import java.util.List;

import static org.junit.jupiter.api.Assertions.*;

public class OsuTest {

    private static MockWebServer server;
    private static Osu osu;

    @BeforeEach
    public void beforeEach() throws IOException {
        server = new MockWebServer();
        server.start();

        osu = new Osu("http://localhost:" + server.getPort(), "api key");
    }

    @AfterEach
    public void afterEach() throws IOException {
        server.close();
    }

    @Test
    public void testOsu() {
        Osu osu = new Osu("api key");
        assertNotNull(osu);
        assertEquals("api key", osu.getApiKey());
    }

    @Test
    public void testOsuPlayer() throws IOException {
        server.enqueue(new MockResponse().setBody("[{\"user_id\":\"124493\",\"username\":\"Cookiezi\",\"count300\":\"8816363\",\"count100\":\"360099\",\"count50\":\"31579\",\"playcount\":\"22036\",\"ranked_score\":\"32714717828\",\"total_score\":\"190410792027\",\"pp_rank\":\"2\",\"level\":\"101.635\",\"pp_raw\":\"13814.7\",\"accuracy\":\"98.8546371459961\",\"count_rank_ss\":\"22\",\"count_rank_ssh\":\"68\",\"count_rank_s\":\"96\",\"count_rank_sh\":\"550\",\"count_rank_a\":\"486\",\"country\":\"KR\",\"pp_country_rank\":\"1\",\"events\":[{\"display_html\":\"<img src='\\/images\\/SH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #17<\\/b> on <a href='\\/b\\/958038?m=0'>Nanahira - Shinchoku Doudesu ka? [EXTRA]<\\/a> (osu!)\",\"beatmap_id\":\"958038\",\"beatmapset_id\":\"446027\",\"date\":\"2018-06-28 19:52:58\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/XH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1532896?m=0'>nano - DREAMCATCHER [Depths' Starlight Future Extra]<\\/a> (osu!)\",\"beatmap_id\":\"1532896\",\"beatmapset_id\":\"695957\",\"date\":\"2018-06-28 19:25:59\",\"epicfactor\":\"4\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1200272?m=0'>gmtn. (witch's slave) - disperagioia [DoKo]<\\/a> (osu!)\",\"beatmap_id\":\"1200272\",\"beatmapset_id\":\"566624\",\"date\":\"2018-06-26 22:41:20\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/C_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #10<\\/b> on <a href='\\/b\\/410858?m=0'>ave;new feat. Shirasawa Rie - MAYBE ROSY KISS -HARD dRESS STYLE- [MAYBE POSSIBLE]<\\/a> (osu!)\",\"beatmap_id\":\"410858\",\"beatmapset_id\":\"169650\",\"date\":\"2018-06-25 20:55:35\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1200272?m=0'>gmtn. (witch's slave) - disperagioia [DoKo]<\\/a> (osu!)\",\"beatmap_id\":\"1200272\",\"beatmapset_id\":\"566624\",\"date\":\"2018-06-25 20:49:19\",\"epicfactor\":\"8\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #25<\\/b> on <a href='\\/b\\/1518701?m=0'>Hatsuki Yura - Shoujo to Ougonryuu no Monogatari [Salvation]<\\/a> (osu!)\",\"beatmap_id\":\"1518701\",\"beatmapset_id\":\"719158\",\"date\":\"2018-06-25 20:40:02\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/SH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1636508?m=0'>PinocchioP - All I Need are Things I Like [Things I Like]<\\/a> (osu!)\",\"beatmap_id\":\"1636508\",\"beatmapset_id\":\"525070\",\"date\":\"2018-06-25 20:16:14\",\"epicfactor\":\"8\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/70517?m=0'>Evil Activities - Make a Wish [Insane]<\\/a> (osu!)\",\"beatmap_id\":\"70517\",\"beatmapset_id\":\"20156\",\"date\":\"2018-06-20 22:17:43\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/592113?m=0'>Bal-Sagoth - The Obsidian Crown Unbound  (Episode: IX) [Onslaught]<\\/a> (osu!)\",\"beatmap_id\":\"592113\",\"beatmapset_id\":\"258961\",\"date\":\"2018-06-20 06:49:46\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #13<\\/b> on <a href='\\/b\\/324516?m=0'>sakuzyo - AXION [AXION_REBORN]<\\/a> (osu!)\",\"beatmap_id\":\"324516\",\"beatmapset_id\":\"115193\",\"date\":\"2018-06-20 00:09:07\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #2<\\/b> on <a href='\\/b\\/1644729?m=0'>Endorfin. - Horizon Note [Insane]<\\/a> (osu!)\",\"beatmap_id\":\"1644729\",\"beatmapset_id\":\"783272\",\"date\":\"2018-06-19 23:16:21\",\"epicfactor\":\"4\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/142099?m=0'>Yellow Zebra - Melody! [Lunatic]<\\/a> (osu!)\",\"beatmap_id\":\"142099\",\"beatmapset_id\":\"45450\",\"date\":\"2018-06-19 13:51:05\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/658127?m=0'>xi - Blue Zenith [FOUR DIMENSIONS]<\\/a> (osu!)\",\"beatmap_id\":\"658127\",\"beatmapset_id\":\"292301\",\"date\":\"2018-06-19 13:06:25\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/XH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #2<\\/b> on <a href='\\/b\\/80384?m=0'>doriko feat. Hatsune Miku - Paradise Cage [Insane]<\\/a> (osu!)\",\"beatmap_id\":\"80384\",\"beatmapset_id\":\"23483\",\"date\":\"2018-06-18 20:45:22\",\"epicfactor\":\"4\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/274236?m=0'>Jun.A - The Fairy's Adventurous Tale [kiddly's Extreme]<\\/a> (osu!)\",\"beatmap_id\":\"274236\",\"beatmapset_id\":\"26480\",\"date\":\"2018-06-18 20:35:08\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1481140?m=0'>Blend A - Bon Appetit S [Stile!]<\\/a> (osu!)\",\"beatmap_id\":\"1481140\",\"beatmapset_id\":\"699427\",\"date\":\"2018-06-18 18:35:53\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/C_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1205766?m=0'>Alfakyun. x Camellia - calling [Irre's Vivacissimo]<\\/a> (osu!)\",\"beatmap_id\":\"1205766\",\"beatmapset_id\":\"523558\",\"date\":\"2018-06-14 20:51:22\",\"epicfactor\":\"4\"},{\"display_html\":\"<img src='\\/images\\/C_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #2<\\/b> on <a href='\\/b\\/1111493?m=0'>Alfakyun. x Camellia - calling [Prestissimo]<\\/a> (osu!)\",\"beatmap_id\":\"1111493\",\"beatmapset_id\":\"523558\",\"date\":\"2018-06-14 20:39:04\",\"epicfactor\":\"4\"},{\"display_html\":\"<img src='\\/images\\/SH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1541347?m=0'>Nanahira - Petals [Fluorescence]<\\/a> (osu!)\",\"beatmap_id\":\"1541347\",\"beatmapset_id\":\"707371\",\"date\":\"2018-06-14 19:57:24\",\"epicfactor\":\"8\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #4<\\/b> on <a href='\\/b\\/1135897?m=0'>Morimori Atsushi - Paradigm Shift [Ultra]<\\/a> (osu!)\",\"beatmap_id\":\"1135897\",\"beatmapset_id\":\"432589\",\"date\":\"2018-06-11 20:53:51\",\"epicfactor\":\"4\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/60864?m=0'>Yellow Zebra - Believe Heart! [Insane]<\\/a> (osu!)\",\"beatmap_id\":\"60864\",\"beatmapset_id\":\"15521\",\"date\":\"2018-06-11 19:04:49\",\"epicfactor\":\"8\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1031991?m=0'>Imperial Circus Dead Decadence - Yomi yori Kikoyu, Koukoku no Tou to Honoo no Shoujo. [Kyouaku]<\\/a> (osu!)\",\"beatmap_id\":\"1031991\",\"beatmapset_id\":\"461744\",\"date\":\"2018-06-11 18:49:00\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #4<\\/b> on <a href='\\/b\\/1596845?m=0'>kozato - Shijuugo-nen no Yukizakura [Another]<\\/a> (osu!)\",\"beatmap_id\":\"1596845\",\"beatmapset_id\":\"759281\",\"date\":\"2018-06-11 18:02:42\",\"epicfactor\":\"4\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/252238?m=0'>Tatsh - IMAGE -MATERIAL- &lt;Version 0&gt; [Scorpiour]<\\/a> (osu!)\",\"beatmap_id\":\"252238\",\"beatmapset_id\":\"93523\",\"date\":\"2018-06-11 04:03:34\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1031991?m=0'>Imperial Circus Dead Decadence - Yomi yori Kikoyu, Koukoku no Tou to Honoo no Shoujo. [Kyouaku]<\\/a> (osu!)\",\"beatmap_id\":\"1031991\",\"beatmapset_id\":\"461744\",\"date\":\"2018-06-11 03:24:25\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/129891?m=0'>xi - FREEDOM DiVE [FOUR DIMENSIONS]<\\/a> (osu!)\",\"beatmap_id\":\"129891\",\"beatmapset_id\":\"39804\",\"date\":\"2018-06-11 03:14:15\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1031991?m=0'>Imperial Circus Dead Decadence - Yomi yori Kikoyu, Koukoku no Tou to Honoo no Shoujo. [Kyouaku]<\\/a> (osu!)\",\"beatmap_id\":\"1031991\",\"beatmapset_id\":\"461744\",\"date\":\"2018-06-11 02:34:49\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/683825?m=0'>siromaru - Absurd Gaff [Maniac]<\\/a> (osu!)\",\"beatmap_id\":\"683825\",\"beatmapset_id\":\"278213\",\"date\":\"2018-06-09 14:53:53\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/800237?m=0'>Ocelot - TSUBAKI [EX EX]<\\/a> (osu!)\",\"beatmap_id\":\"800237\",\"beatmapset_id\":\"364574\",\"date\":\"2018-06-07 19:02:19\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/SH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1259653?m=0'>Ling Yuan yousa - Kami no Manimani [dance! dance!]<\\/a> (osu!)\",\"beatmap_id\":\"1259653\",\"beatmapset_id\":\"595651\",\"date\":\"2018-06-07 00:18:25\",\"epicfactor\":\"8\"},{\"display_html\":\"<img src='\\/images\\/SH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1166435?m=0'>Powerless - Frey's Philosophy [MASTER]<\\/a> (osu!)\",\"beatmap_id\":\"1166435\",\"beatmapset_id\":\"550588\",\"date\":\"2018-06-06 22:14:00\",\"epicfactor\":\"8\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/252238?m=0'>Tatsh - IMAGE -MATERIAL- &lt;Version 0&gt; [Scorpiour]<\\/a> (osu!)\",\"beatmap_id\":\"252238\",\"beatmapset_id\":\"93523\",\"date\":\"2018-06-05 14:02:05\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1383825?m=0'>Yousei Teikoku - God and the Illusory Garden [Kami]<\\/a> (osu!)\",\"beatmap_id\":\"1383825\",\"beatmapset_id\":\"375956\",\"date\":\"2018-06-04 23:39:06\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/SH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1539972?m=0'>DJ Genki VS Camellia feat. moimoi - Sunshine [Illumination]<\\/a> (osu!)\",\"beatmap_id\":\"1539972\",\"beatmapset_id\":\"729588\",\"date\":\"2018-06-04 23:34:37\",\"epicfactor\":\"8\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/683825?m=0'>siromaru - Absurd Gaff [Maniac]<\\/a> (osu!)\",\"beatmap_id\":\"683825\",\"beatmapset_id\":\"278213\",\"date\":\"2018-06-04 22:55:47\",\"epicfactor\":\"8\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #2<\\/b> on <a href='\\/b\\/380029?m=0'>Kuroneko Dungeon - Ryuu to Shoujo to Decoherence [Overdrive]<\\/a> (osu!)\",\"beatmap_id\":\"380029\",\"beatmapset_id\":\"154833\",\"date\":\"2018-06-04 22:47:53\",\"epicfactor\":\"4\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #4<\\/b> on <a href='\\/b\\/380029?m=0'>Kuroneko Dungeon - Ryuu to Shoujo to Decoherence [Overdrive]<\\/a> (osu!)\",\"beatmap_id\":\"380029\",\"beatmapset_id\":\"154833\",\"date\":\"2018-06-04 22:34:04\",\"epicfactor\":\"4\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #40<\\/b> on <a href='\\/b\\/1536491?m=0'>GARNiDELiA - Yakusoku -Promise code- [Meg's Extra]<\\/a> (osu!)\",\"beatmap_id\":\"1536491\",\"beatmapset_id\":\"727714\",\"date\":\"2018-06-04 20:33:25\",\"epicfactor\":\"1\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/960875?m=0'>DECO*27 - Ghost Rule [Mayday]<\\/a> (osu!)\",\"beatmap_id\":\"960875\",\"beatmapset_id\":\"413117\",\"date\":\"2018-06-03 17:01:10\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1199955?m=0'>nameless - Milk Crown on Sonnetica [MiLk ShAke 9*]<\\/a> (osu!)\",\"beatmap_id\":\"1199955\",\"beatmapset_id\":\"327557\",\"date\":\"2018-06-03 15:05:19\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/756423?m=0'>Kitsune^2 - Free [Freedom]<\\/a> (osu!)\",\"beatmap_id\":\"756423\",\"beatmapset_id\":\"342207\",\"date\":\"2018-06-03 05:04:57\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1031991?m=0'>Imperial Circus Dead Decadence - Yomi yori Kikoyu, Koukoku no Tou to Honoo no Shoujo. [Kyouaku]<\\/a> (osu!)\",\"beatmap_id\":\"1031991\",\"beatmapset_id\":\"461744\",\"date\":\"2018-05-31 22:05:22\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/658127?m=0'>xi - Blue Zenith [FOUR DIMENSIONS]<\\/a> (osu!)\",\"beatmap_id\":\"658127\",\"beatmapset_id\":\"292301\",\"date\":\"2018-05-31 21:35:47\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/736215?m=0'>Panda Eyes &amp; Teminite - Highscore [Game Over]<\\/a> (osu!)\",\"beatmap_id\":\"736215\",\"beatmapset_id\":\"332532\",\"date\":\"2018-05-31 21:34:35\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1031991?m=0'>Imperial Circus Dead Decadence - Yomi yori Kikoyu, Koukoku no Tou to Honoo no Shoujo. [Kyouaku]<\\/a> (osu!)\",\"beatmap_id\":\"1031991\",\"beatmapset_id\":\"461744\",\"date\":\"2018-05-31 19:11:55\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/714001?m=0'>Reol - No title [jieusieu's Lemur]<\\/a> (osu!)\",\"beatmap_id\":\"714001\",\"beatmapset_id\":\"320118\",\"date\":\"2018-05-31 17:26:24\",\"epicfactor\":\"2\"}]}]"));

        OsuPlayer user = osu.getPlayer("Cookiezi", OsuMode.OSU,31).complete();
        assertAll("Check values of osu! player.",
            () -> assertEquals(124493, user.getId()),
            () -> assertEquals("Cookiezi", user.getUsername()),
            () -> assertEquals(8816363, user.getCount300()),
            () -> assertEquals(360099, user.getCount100()),
            () -> assertEquals(31579, user.getCount50()),
            () -> assertEquals(22036, user.getPlayCount()),
            () -> assertEquals(32714717828L, user.getRankedScore()),
            () -> assertEquals(190410792027L, user.getTotalScore()),
            () -> assertEquals(2, user.getRank()),
            () -> assertEquals(101.635, user.getLevel()),
            () -> assertEquals(13814.7, user.getPp()),
            () -> assertEquals(98.8546371459961, user.getAccuracy()),
            () -> assertEquals(22, user.getCountSS()),
            () -> assertEquals(68, user.getCountSSH()),
            () -> assertEquals(96, user.getCountS()),
            () -> assertEquals(550, user.getCountSH()),
            () -> assertEquals(486, user.getCountA()),
            () -> assertEquals(Country.SOUTH_KOREA, user.getCountry()),
            () -> assertEquals(1, user.getCountryRank()),
            () -> assertEquals("https://osu.ppy.sh/u/124493", user.getProfileUrl()),
            () -> assertEquals(46, user.getEvents().size())
        );
    }

    @Test
    public void testOsuPlayerEvent() throws IOException {
        server.enqueue(new MockResponse().setBody("[{\"user_id\":\"124493\",\"username\":\"Cookiezi\",\"count300\":\"8816363\",\"count100\":\"360099\",\"count50\":\"31579\",\"playcount\":\"22036\",\"ranked_score\":\"32714717828\",\"total_score\":\"190410792027\",\"pp_rank\":\"2\",\"level\":\"101.635\",\"pp_raw\":\"13814.7\",\"accuracy\":\"98.8546371459961\",\"count_rank_ss\":\"22\",\"count_rank_ssh\":\"68\",\"count_rank_s\":\"96\",\"count_rank_sh\":\"550\",\"count_rank_a\":\"486\",\"country\":\"KR\",\"pp_country_rank\":\"1\",\"events\":[{\"display_html\":\"<img src='\\/images\\/SH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #17<\\/b> on <a href='\\/b\\/958038?m=0'>Nanahira - Shinchoku Doudesu ka? [EXTRA]<\\/a> (osu!)\",\"beatmap_id\":\"958038\",\"beatmapset_id\":\"446027\",\"date\":\"2018-06-28 19:52:58\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/XH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1532896?m=0'>nano - DREAMCATCHER [Depths' Starlight Future Extra]<\\/a> (osu!)\",\"beatmap_id\":\"1532896\",\"beatmapset_id\":\"695957\",\"date\":\"2018-06-28 19:25:59\",\"epicfactor\":\"4\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1200272?m=0'>gmtn. (witch's slave) - disperagioia [DoKo]<\\/a> (osu!)\",\"beatmap_id\":\"1200272\",\"beatmapset_id\":\"566624\",\"date\":\"2018-06-26 22:41:20\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/C_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #10<\\/b> on <a href='\\/b\\/410858?m=0'>ave;new feat. Shirasawa Rie - MAYBE ROSY KISS -HARD dRESS STYLE- [MAYBE POSSIBLE]<\\/a> (osu!)\",\"beatmap_id\":\"410858\",\"beatmapset_id\":\"169650\",\"date\":\"2018-06-25 20:55:35\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1200272?m=0'>gmtn. (witch's slave) - disperagioia [DoKo]<\\/a> (osu!)\",\"beatmap_id\":\"1200272\",\"beatmapset_id\":\"566624\",\"date\":\"2018-06-25 20:49:19\",\"epicfactor\":\"8\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #25<\\/b> on <a href='\\/b\\/1518701?m=0'>Hatsuki Yura - Shoujo to Ougonryuu no Monogatari [Salvation]<\\/a> (osu!)\",\"beatmap_id\":\"1518701\",\"beatmapset_id\":\"719158\",\"date\":\"2018-06-25 20:40:02\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/SH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1636508?m=0'>PinocchioP - All I Need are Things I Like [Things I Like]<\\/a> (osu!)\",\"beatmap_id\":\"1636508\",\"beatmapset_id\":\"525070\",\"date\":\"2018-06-25 20:16:14\",\"epicfactor\":\"8\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/70517?m=0'>Evil Activities - Make a Wish [Insane]<\\/a> (osu!)\",\"beatmap_id\":\"70517\",\"beatmapset_id\":\"20156\",\"date\":\"2018-06-20 22:17:43\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/592113?m=0'>Bal-Sagoth - The Obsidian Crown Unbound  (Episode: IX) [Onslaught]<\\/a> (osu!)\",\"beatmap_id\":\"592113\",\"beatmapset_id\":\"258961\",\"date\":\"2018-06-20 06:49:46\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #13<\\/b> on <a href='\\/b\\/324516?m=0'>sakuzyo - AXION [AXION_REBORN]<\\/a> (osu!)\",\"beatmap_id\":\"324516\",\"beatmapset_id\":\"115193\",\"date\":\"2018-06-20 00:09:07\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #2<\\/b> on <a href='\\/b\\/1644729?m=0'>Endorfin. - Horizon Note [Insane]<\\/a> (osu!)\",\"beatmap_id\":\"1644729\",\"beatmapset_id\":\"783272\",\"date\":\"2018-06-19 23:16:21\",\"epicfactor\":\"4\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/142099?m=0'>Yellow Zebra - Melody! [Lunatic]<\\/a> (osu!)\",\"beatmap_id\":\"142099\",\"beatmapset_id\":\"45450\",\"date\":\"2018-06-19 13:51:05\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/658127?m=0'>xi - Blue Zenith [FOUR DIMENSIONS]<\\/a> (osu!)\",\"beatmap_id\":\"658127\",\"beatmapset_id\":\"292301\",\"date\":\"2018-06-19 13:06:25\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/XH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #2<\\/b> on <a href='\\/b\\/80384?m=0'>doriko feat. Hatsune Miku - Paradise Cage [Insane]<\\/a> (osu!)\",\"beatmap_id\":\"80384\",\"beatmapset_id\":\"23483\",\"date\":\"2018-06-18 20:45:22\",\"epicfactor\":\"4\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/274236?m=0'>Jun.A - The Fairy's Adventurous Tale [kiddly's Extreme]<\\/a> (osu!)\",\"beatmap_id\":\"274236\",\"beatmapset_id\":\"26480\",\"date\":\"2018-06-18 20:35:08\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1481140?m=0'>Blend A - Bon Appetit S [Stile!]<\\/a> (osu!)\",\"beatmap_id\":\"1481140\",\"beatmapset_id\":\"699427\",\"date\":\"2018-06-18 18:35:53\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/C_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1205766?m=0'>Alfakyun. x Camellia - calling [Irre's Vivacissimo]<\\/a> (osu!)\",\"beatmap_id\":\"1205766\",\"beatmapset_id\":\"523558\",\"date\":\"2018-06-14 20:51:22\",\"epicfactor\":\"4\"},{\"display_html\":\"<img src='\\/images\\/C_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #2<\\/b> on <a href='\\/b\\/1111493?m=0'>Alfakyun. x Camellia - calling [Prestissimo]<\\/a> (osu!)\",\"beatmap_id\":\"1111493\",\"beatmapset_id\":\"523558\",\"date\":\"2018-06-14 20:39:04\",\"epicfactor\":\"4\"},{\"display_html\":\"<img src='\\/images\\/SH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1541347?m=0'>Nanahira - Petals [Fluorescence]<\\/a> (osu!)\",\"beatmap_id\":\"1541347\",\"beatmapset_id\":\"707371\",\"date\":\"2018-06-14 19:57:24\",\"epicfactor\":\"8\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #4<\\/b> on <a href='\\/b\\/1135897?m=0'>Morimori Atsushi - Paradigm Shift [Ultra]<\\/a> (osu!)\",\"beatmap_id\":\"1135897\",\"beatmapset_id\":\"432589\",\"date\":\"2018-06-11 20:53:51\",\"epicfactor\":\"4\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/60864?m=0'>Yellow Zebra - Believe Heart! [Insane]<\\/a> (osu!)\",\"beatmap_id\":\"60864\",\"beatmapset_id\":\"15521\",\"date\":\"2018-06-11 19:04:49\",\"epicfactor\":\"8\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1031991?m=0'>Imperial Circus Dead Decadence - Yomi yori Kikoyu, Koukoku no Tou to Honoo no Shoujo. [Kyouaku]<\\/a> (osu!)\",\"beatmap_id\":\"1031991\",\"beatmapset_id\":\"461744\",\"date\":\"2018-06-11 18:49:00\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #4<\\/b> on <a href='\\/b\\/1596845?m=0'>kozato - Shijuugo-nen no Yukizakura [Another]<\\/a> (osu!)\",\"beatmap_id\":\"1596845\",\"beatmapset_id\":\"759281\",\"date\":\"2018-06-11 18:02:42\",\"epicfactor\":\"4\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/252238?m=0'>Tatsh - IMAGE -MATERIAL- &lt;Version 0&gt; [Scorpiour]<\\/a> (osu!)\",\"beatmap_id\":\"252238\",\"beatmapset_id\":\"93523\",\"date\":\"2018-06-11 04:03:34\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1031991?m=0'>Imperial Circus Dead Decadence - Yomi yori Kikoyu, Koukoku no Tou to Honoo no Shoujo. [Kyouaku]<\\/a> (osu!)\",\"beatmap_id\":\"1031991\",\"beatmapset_id\":\"461744\",\"date\":\"2018-06-11 03:24:25\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/129891?m=0'>xi - FREEDOM DiVE [FOUR DIMENSIONS]<\\/a> (osu!)\",\"beatmap_id\":\"129891\",\"beatmapset_id\":\"39804\",\"date\":\"2018-06-11 03:14:15\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1031991?m=0'>Imperial Circus Dead Decadence - Yomi yori Kikoyu, Koukoku no Tou to Honoo no Shoujo. [Kyouaku]<\\/a> (osu!)\",\"beatmap_id\":\"1031991\",\"beatmapset_id\":\"461744\",\"date\":\"2018-06-11 02:34:49\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/683825?m=0'>siromaru - Absurd Gaff [Maniac]<\\/a> (osu!)\",\"beatmap_id\":\"683825\",\"beatmapset_id\":\"278213\",\"date\":\"2018-06-09 14:53:53\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/800237?m=0'>Ocelot - TSUBAKI [EX EX]<\\/a> (osu!)\",\"beatmap_id\":\"800237\",\"beatmapset_id\":\"364574\",\"date\":\"2018-06-07 19:02:19\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/SH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1259653?m=0'>Ling Yuan yousa - Kami no Manimani [dance! dance!]<\\/a> (osu!)\",\"beatmap_id\":\"1259653\",\"beatmapset_id\":\"595651\",\"date\":\"2018-06-07 00:18:25\",\"epicfactor\":\"8\"},{\"display_html\":\"<img src='\\/images\\/SH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1166435?m=0'>Powerless - Frey's Philosophy [MASTER]<\\/a> (osu!)\",\"beatmap_id\":\"1166435\",\"beatmapset_id\":\"550588\",\"date\":\"2018-06-06 22:14:00\",\"epicfactor\":\"8\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/252238?m=0'>Tatsh - IMAGE -MATERIAL- &lt;Version 0&gt; [Scorpiour]<\\/a> (osu!)\",\"beatmap_id\":\"252238\",\"beatmapset_id\":\"93523\",\"date\":\"2018-06-05 14:02:05\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1383825?m=0'>Yousei Teikoku - God and the Illusory Garden [Kami]<\\/a> (osu!)\",\"beatmap_id\":\"1383825\",\"beatmapset_id\":\"375956\",\"date\":\"2018-06-04 23:39:06\",\"epicfactor\":\"2\"},{\"display_html\":\"<img src='\\/images\\/SH_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/1539972?m=0'>DJ Genki VS Camellia feat. moimoi - Sunshine [Illumination]<\\/a> (osu!)\",\"beatmap_id\":\"1539972\",\"beatmapset_id\":\"729588\",\"date\":\"2018-06-04 23:34:37\",\"epicfactor\":\"8\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #1<\\/b> on <a href='\\/b\\/683825?m=0'>siromaru - Absurd Gaff [Maniac]<\\/a> (osu!)\",\"beatmap_id\":\"683825\",\"beatmapset_id\":\"278213\",\"date\":\"2018-06-04 22:55:47\",\"epicfactor\":\"8\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #2<\\/b> on <a href='\\/b\\/380029?m=0'>Kuroneko Dungeon - Ryuu to Shoujo to Decoherence [Overdrive]<\\/a> (osu!)\",\"beatmap_id\":\"380029\",\"beatmapset_id\":\"154833\",\"date\":\"2018-06-04 22:47:53\",\"epicfactor\":\"4\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #4<\\/b> on <a href='\\/b\\/380029?m=0'>Kuroneko Dungeon - Ryuu to Shoujo to Decoherence [Overdrive]<\\/a> (osu!)\",\"beatmap_id\":\"380029\",\"beatmapset_id\":\"154833\",\"date\":\"2018-06-04 22:34:04\",\"epicfactor\":\"4\"},{\"display_html\":\"<img src='\\/images\\/A_small.png'\\/> <b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> achieved <b>rank #40<\\/b> on <a href='\\/b\\/1536491?m=0'>GARNiDELiA - Yakusoku -Promise code- [Meg's Extra]<\\/a> (osu!)\",\"beatmap_id\":\"1536491\",\"beatmapset_id\":\"727714\",\"date\":\"2018-06-04 20:33:25\",\"epicfactor\":\"1\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/960875?m=0'>DECO*27 - Ghost Rule [Mayday]<\\/a> (osu!)\",\"beatmap_id\":\"960875\",\"beatmapset_id\":\"413117\",\"date\":\"2018-06-03 17:01:10\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1199955?m=0'>nameless - Milk Crown on Sonnetica [MiLk ShAke 9*]<\\/a> (osu!)\",\"beatmap_id\":\"1199955\",\"beatmapset_id\":\"327557\",\"date\":\"2018-06-03 15:05:19\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/756423?m=0'>Kitsune^2 - Free [Freedom]<\\/a> (osu!)\",\"beatmap_id\":\"756423\",\"beatmapset_id\":\"342207\",\"date\":\"2018-06-03 05:04:57\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1031991?m=0'>Imperial Circus Dead Decadence - Yomi yori Kikoyu, Koukoku no Tou to Honoo no Shoujo. [Kyouaku]<\\/a> (osu!)\",\"beatmap_id\":\"1031991\",\"beatmapset_id\":\"461744\",\"date\":\"2018-05-31 22:05:22\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/658127?m=0'>xi - Blue Zenith [FOUR DIMENSIONS]<\\/a> (osu!)\",\"beatmap_id\":\"658127\",\"beatmapset_id\":\"292301\",\"date\":\"2018-05-31 21:35:47\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/736215?m=0'>Panda Eyes &amp; Teminite - Highscore [Game Over]<\\/a> (osu!)\",\"beatmap_id\":\"736215\",\"beatmapset_id\":\"332532\",\"date\":\"2018-05-31 21:34:35\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/1031991?m=0'>Imperial Circus Dead Decadence - Yomi yori Kikoyu, Koukoku no Tou to Honoo no Shoujo. [Kyouaku]<\\/a> (osu!)\",\"beatmap_id\":\"1031991\",\"beatmapset_id\":\"461744\",\"date\":\"2018-05-31 19:11:55\",\"epicfactor\":\"2\"},{\"display_html\":\"<b><a href='\\/u\\/124493'>Cookiezi<\\/a><\\/b> has lost first place on <a href='\\/b\\/714001?m=0'>Reol - No title [jieusieu's Lemur]<\\/a> (osu!)\",\"beatmap_id\":\"714001\",\"beatmapset_id\":\"320118\",\"date\":\"2018-05-31 17:26:24\",\"epicfactor\":\"2\"}]}]"));

        OsuEvent event = osu.getPlayer("Cookiezi", OsuMode.OSU,31).complete().getEvents().get(0);
        assertAll("Check values of osu! player first event.",
            () -> assertEquals("Cookiezi achieved rank #17 on Nanahira - Shinchoku Doudesu ka? [EXTRA] (osu!)", event.getMessage()),
            () -> assertEquals(958038, event.getBeatmapId()),
            () -> assertEquals(446027, event.getBeatmapSetId()),
            () -> assertEquals(1530215578000L, event.getDate().getTime()),
            () -> assertEquals(2, event.getEpicFactor())
        );
    }

    @Test
    public void testOsuBeapMap() throws IOException {
        server.enqueue(new MockResponse().setBody("[{\"beatmapset_id\":\"301125\",\"beatmap_id\":\"675314\",\"approved\":\"-2\",\"total_length\":\"88\",\"hit_length\":\"87\",\"version\":\"Easy\",\"file_md5\":\"82b0e82610c192e97266b4f5ef9f0bf5\",\"diff_size\":\"3\",\"diff_overall\":\"2\",\"diff_approach\":\"3\",\"diff_drain\":\"2\",\"mode\":\"0\",\"approved_date\":null,\"last_update\":\"2015-04-06 21:34:34\",\"artist\":\"EXO K\",\"title\":\"Call me baby\",\"creator\":\"mr_missgirl\",\"bpm\":\"120\",\"source\":\"\",\"tags\":\"\",\"genre_id\":\"1\",\"language_id\":\"1\",\"favourite_count\":\"6\",\"playcount\":\"0\",\"passcount\":\"0\",\"max_combo\":\"101\",\"difficultyrating\":\"2.328305244445801\"}]"));

        BeatMap map = osu.getBeatMaps(675314, OsuMode.OSU, 1).complete().get(0);
        assertAll("Check values of osu! Beatmap.",
            () -> assertEquals(301125, map.getSetId()),
            () -> assertEquals(675314, map.getId()),
            () -> assertEquals(MapStatus.GRAVEYARD, map.getStatus()),
            () -> assertEquals(88, map.getTotalLength()),
            () -> assertEquals(87, map.getHitLength()),
            () -> assertEquals("Easy", map.getVersion()),
            () -> assertEquals("82b0e82610c192e97266b4f5ef9f0bf5", map.getFileMd5()),
            () -> assertEquals(OsuMode.OSU, map.getMode()),
            () -> assertNull(map.getApprovedDate()),
            () -> assertEquals(1428356074000L, map.getLastUpdate().getTime()),
            () -> assertEquals("EXO K", map.getArtist()),
            () -> assertEquals("Call me baby", map.getTitle()),
            () -> assertEquals("mr_missgirl", map.getCreator()),
            () -> assertEquals(120, map.getBPM()),
            () -> assertNull(map.getSource()),
            () -> assertEquals(0, map.getTags().size()),
            () -> assertEquals(MapGenre.UNSPECIFIED, map.getGenre()),
            () -> assertEquals(MapLanguage.OTHER, map.getLanguage()),
            () -> assertEquals(6, map.getFavouriteCount()),
            () -> assertEquals(0, map.getPlayCount()),
            () -> assertEquals(0, map.getPassCount()),
            () -> assertEquals(101, map.getMaxCombo()),
            () -> assertNotNull(map.getDifficulty())
        );
    }

    @Test
    public void testOsuMapDifficulty() throws IOException {
        server.enqueue(new MockResponse().setBody("[{\"beatmapset_id\":\"301125\",\"beatmap_id\":\"675314\",\"approved\":\"-2\",\"total_length\":\"88\",\"hit_length\":\"87\",\"version\":\"Easy\",\"file_md5\":\"82b0e82610c192e97266b4f5ef9f0bf5\",\"diff_size\":\"3\",\"diff_overall\":\"2\",\"diff_approach\":\"3\",\"diff_drain\":\"2\",\"mode\":\"0\",\"approved_date\":null,\"last_update\":\"2015-04-06 21:34:34\",\"artist\":\"EXO K\",\"title\":\"Call me baby\",\"creator\":\"mr_missgirl\",\"bpm\":\"120\",\"source\":\"\",\"tags\":\"\",\"genre_id\":\"1\",\"language_id\":\"1\",\"favourite_count\":\"6\",\"playcount\":\"0\",\"passcount\":\"0\",\"max_combo\":\"101\",\"difficultyrating\":\"2.328305244445801\"}]"));

        MapDifficulty diff = osu.getBeatMaps(675314, OsuMode.OSU, 1).complete().get(0).getDifficulty();
        assertAll("Check values of osu! beatmap difficulty values.",
            () -> assertEquals(3, diff.getApproachRate()),
            () -> assertEquals(2.328305244445801, diff.getDisplay()),
            () -> assertEquals(2, diff.getHealthDrain()),
            () -> assertEquals(2, diff.getOverall()),
            () -> assertEquals(3, diff.getSize())
        );
    }

    @Test
    public void testRecentPlay() throws IOException {
        server.enqueue(new MockResponse().setBody("[{\"beatmap_id\":\"1391631\",\"score\":\"4091730\",\"maxcombo\":\"427\",\"count50\":\"1\",\"count100\":\"3\",\"count300\":\"316\",\"countmiss\":\"7\",\"countkatu\":\"1\",\"countgeki\":\"83\",\"perfect\":\"0\",\"enabled_mods\":\"0\",\"user_id\":\"4196808\",\"date\":\"2018-07-01 03:47:23\",\"rank\":\"F\"},{\"beatmap_id\":\"1391631\",\"score\":\"166570\",\"maxcombo\":\"76\",\"count50\":\"5\",\"count100\":\"0\",\"count300\":\"58\",\"countmiss\":\"6\",\"countkatu\":\"0\",\"countgeki\":\"22\",\"perfect\":\"0\",\"enabled_mods\":\"0\",\"user_id\":\"4196808\",\"date\":\"2018-07-01 03:46:21\",\"rank\":\"F\"},{\"beatmap_id\":\"1391631\",\"score\":\"262450\",\"maxcombo\":\"110\",\"count50\":\"6\",\"count100\":\"5\",\"count300\":\"73\",\"countmiss\":\"4\",\"countkatu\":\"1\",\"countgeki\":\"28\",\"perfect\":\"0\",\"enabled_mods\":\"0\",\"user_id\":\"4196808\",\"date\":\"2018-07-01 03:46:05\",\"rank\":\"F\"},{\"beatmap_id\":\"1391631\",\"score\":\"213880\",\"maxcombo\":\"97\",\"count50\":\"7\",\"count100\":\"5\",\"count300\":\"64\",\"countmiss\":\"2\",\"countkatu\":\"2\",\"countgeki\":\"23\",\"perfect\":\"0\",\"enabled_mods\":\"0\",\"user_id\":\"4196808\",\"date\":\"2018-07-01 03:45:46\",\"rank\":\"F\"},{\"beatmap_id\":\"1391631\",\"score\":\"118850\",\"maxcombo\":\"66\",\"count50\":\"0\",\"count100\":\"1\",\"count300\":\"47\",\"countmiss\":\"3\",\"countkatu\":\"1\",\"countgeki\":\"18\",\"perfect\":\"0\",\"enabled_mods\":\"0\",\"user_id\":\"4196808\",\"date\":\"2018-07-01 03:45:29\",\"rank\":\"F\"},{\"beatmap_id\":\"1391631\",\"score\":\"2821733\",\"maxcombo\":\"335\",\"count50\":\"0\",\"count100\":\"1\",\"count300\":\"256\",\"countmiss\":\"4\",\"countkatu\":\"0\",\"countgeki\":\"70\",\"perfect\":\"0\",\"enabled_mods\":\"8\",\"user_id\":\"4196808\",\"date\":\"2018-07-01 03:45:03\",\"rank\":\"F\"},{\"beatmap_id\":\"293134\",\"score\":\"24745985\",\"maxcombo\":\"1323\",\"count50\":\"0\",\"count100\":\"1\",\"count300\":\"747\",\"countmiss\":\"0\",\"countkatu\":\"1\",\"countgeki\":\"134\",\"perfect\":\"1\",\"enabled_mods\":\"8\",\"user_id\":\"4196808\",\"date\":\"2018-07-01 03:39:52\",\"rank\":\"SH\"},{\"beatmap_id\":\"42244\",\"score\":\"4552862\",\"maxcombo\":\"378\",\"count50\":\"0\",\"count100\":\"13\",\"count300\":\"519\",\"countmiss\":\"3\",\"countkatu\":\"9\",\"countgeki\":\"172\",\"perfect\":\"0\",\"enabled_mods\":\"24\",\"user_id\":\"4196808\",\"date\":\"2018-07-01 03:36:24\",\"rank\":\"A\"},{\"beatmap_id\":\"42244\",\"score\":\"180229\",\"maxcombo\":\"98\",\"count50\":\"0\",\"count100\":\"1\",\"count300\":\"77\",\"countmiss\":\"3\",\"countkatu\":\"1\",\"countgeki\":\"24\",\"perfect\":\"0\",\"enabled_mods\":\"8\",\"user_id\":\"4196808\",\"date\":\"2018-07-01 03:33:13\",\"rank\":\"F\"},{\"beatmap_id\":\"339184\",\"score\":\"31409004\",\"maxcombo\":\"1167\",\"count50\":\"0\",\"count100\":\"2\",\"count300\":\"742\",\"countmiss\":\"0\",\"countkatu\":\"2\",\"countgeki\":\"158\",\"perfect\":\"0\",\"enabled_mods\":\"72\",\"user_id\":\"4196808\",\"date\":\"2018-07-01 03:27:17\",\"rank\":\"SH\"}]"));

        List<RecentPlay> plays = osu.getRecentPlays("Karthy", OsuMode.OSU, 10).complete();
        assertEquals(10, plays.size());

        RecentPlay play = plays.get(0);
        assertAll("Check values of osu! recent play.",
            () -> assertEquals(1391631, play.getBeatMapId()),
            () -> assertEquals(4091730, play.getScore()),
            () -> assertEquals(427, play.getMaxCombo()),
            () -> assertEquals(1, play.getCount50()),
            () -> assertEquals(3, play.getCount100()),
            () -> assertEquals(316, play.getCount300()),
            () -> assertEquals(7, play.getCountMiss()),
            () -> assertEquals(1, play.getCountKatu()),
            () -> assertEquals(83, play.getCountGeki()),
            () -> assertFalse(play.isPerfect()),
            () -> assertEquals(4196808, play.getUserId()),
            () -> assertEquals("F", play.getRank()),
            () -> assertEquals(1530415637000L, play.getDate().getTime()),
            () -> assertTrue(play.getMods().isEmpty())
        );
    }

    @Test
    public void testMatchData() throws IOException {
        server.enqueue(new MockResponse().setBody("{\"match\":{\"match_id\":\"43785941\",\"name\":\"AAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"start_time\":\"2018-06-30 18:12:15\",\"end_time\":\"2018-06-30 19:34:49\"},\"games\":[{\"game_id\":\"228686654\",\"start_time\":\"2018-06-30 18:26:25\",\"end_time\":\"2018-06-30 18:28:32\",\"beatmap_id\":\"1369064\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"516074\",\"maxcombo\":\"302\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"3\",\"count300\":\"116\",\"countmiss\":\"0\",\"countgeki\":\"29\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"275192\",\"maxcombo\":\"231\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"11\",\"count300\":\"105\",\"countmiss\":\"3\",\"countgeki\":\"23\",\"countkatu\":\"8\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"6\",\"team\":\"0\",\"user_id\":\"12564776\",\"score\":\"228814\",\"maxcombo\":\"179\",\"rank\":\"0\",\"count50\":\"1\",\"count100\":\"8\",\"count300\":\"112\",\"countmiss\":\"0\",\"countgeki\":\"25\",\"countkatu\":\"8\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228687519\",\"start_time\":\"2018-06-30 18:33:06\",\"end_time\":\"2018-06-30 18:36:59\",\"beatmap_id\":\"1632045\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"1569798\",\"maxcombo\":\"502\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"13\",\"count300\":\"242\",\"countmiss\":\"0\",\"countgeki\":\"56\",\"countkatu\":\"9\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"645946\",\"maxcombo\":\"279\",\"rank\":\"0\",\"count50\":\"5\",\"count100\":\"10\",\"count300\":\"237\",\"countmiss\":\"3\",\"countgeki\":\"51\",\"countkatu\":\"8\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"6\",\"team\":\"0\",\"user_id\":\"12564776\",\"score\":\"247670\",\"maxcombo\":\"102\",\"rank\":\"0\",\"count50\":\"5\",\"count100\":\"27\",\"count300\":\"221\",\"countmiss\":\"2\",\"countgeki\":\"39\",\"countkatu\":\"20\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228688898\",\"start_time\":\"2018-06-30 18:43:28\",\"end_time\":\"2018-06-30 18:45:36\",\"beatmap_id\":\"1575365\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"450624\",\"maxcombo\":\"282\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"3\",\"count300\":\"118\",\"countmiss\":\"0\",\"countgeki\":\"34\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"110230\",\"maxcombo\":\"106\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"22\",\"count300\":\"98\",\"countmiss\":\"1\",\"countgeki\":\"20\",\"countkatu\":\"16\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"449598\",\"maxcombo\":\"282\",\"rank\":\"0\",\"count50\":\"1\",\"count100\":\"3\",\"count300\":\"117\",\"countmiss\":\"0\",\"countgeki\":\"33\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"457968\",\"maxcombo\":\"282\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"1\",\"count300\":\"120\",\"countmiss\":\"0\",\"countgeki\":\"36\",\"countkatu\":\"1\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228689452\",\"start_time\":\"2018-06-30 18:47:32\",\"end_time\":\"2018-06-30 18:51:45\",\"beatmap_id\":\"862325\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"2300478\",\"maxcombo\":\"636\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"2\",\"count300\":\"283\",\"countmiss\":\"0\",\"countgeki\":\"82\",\"countkatu\":\"2\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"643388\",\"maxcombo\":\"269\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"16\",\"count300\":\"269\",\"countmiss\":\"0\",\"countgeki\":\"69\",\"countkatu\":\"15\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"2153080\",\"maxcombo\":\"616\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"2\",\"count300\":\"280\",\"countmiss\":\"1\",\"countgeki\":\"80\",\"countkatu\":\"1\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"2282494\",\"maxcombo\":\"634\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"6\",\"count300\":\"279\",\"countmiss\":\"0\",\"countgeki\":\"78\",\"countkatu\":\"6\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228690801\",\"start_time\":\"2018-06-30 18:57:13\",\"end_time\":\"2018-06-30 18:59:43\",\"beatmap_id\":\"848233\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"221088\",\"maxcombo\":\"182\",\"rank\":\"0\",\"count50\":\"1\",\"count100\":\"10\",\"count300\":\"89\",\"countmiss\":\"27\",\"countgeki\":\"32\",\"countkatu\":\"7\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"89324\",\"maxcombo\":\"44\",\"rank\":\"0\",\"count50\":\"1\",\"count100\":\"23\",\"count300\":\"100\",\"countmiss\":\"3\",\"countgeki\":\"28\",\"countkatu\":\"19\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"153388\",\"maxcombo\":\"128\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"17\",\"count300\":\"101\",\"countmiss\":\"7\",\"countgeki\":\"32\",\"countkatu\":\"15\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"636762\",\"maxcombo\":\"374\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"5\",\"count300\":\"122\",\"countmiss\":\"0\",\"countgeki\":\"46\",\"countkatu\":\"5\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228691362\",\"start_time\":\"2018-06-30 19:01:11\",\"end_time\":\"2018-06-30 19:02:48\",\"beatmap_id\":\"33165\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"57582\",\"maxcombo\":\"63\",\"rank\":\"0\",\"count50\":\"10\",\"count100\":\"19\",\"count300\":\"56\",\"countmiss\":\"25\",\"countgeki\":\"5\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"118168\",\"maxcombo\":\"80\",\"rank\":\"0\",\"count50\":\"9\",\"count100\":\"29\",\"count300\":\"68\",\"countmiss\":\"4\",\"countgeki\":\"8\",\"countkatu\":\"9\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"111744\",\"maxcombo\":\"87\",\"rank\":\"0\",\"count50\":\"8\",\"count100\":\"16\",\"count300\":\"72\",\"countmiss\":\"14\",\"countgeki\":\"7\",\"countkatu\":\"5\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"164266\",\"maxcombo\":\"88\",\"rank\":\"0\",\"count50\":\"6\",\"count100\":\"11\",\"count300\":\"91\",\"countmiss\":\"2\",\"countgeki\":\"15\",\"countkatu\":\"2\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228692263\",\"start_time\":\"2018-06-30 19:07:31\",\"end_time\":\"2018-06-30 19:09:31\",\"beatmap_id\":\"763440\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"416754\",\"maxcombo\":\"241\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"7\",\"count300\":\"115\",\"countmiss\":\"0\",\"countgeki\":\"30\",\"countkatu\":\"7\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"116286\",\"maxcombo\":\"79\",\"rank\":\"0\",\"count50\":\"5\",\"count100\":\"17\",\"count300\":\"100\",\"countmiss\":\"0\",\"countgeki\":\"20\",\"countkatu\":\"12\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"278626\",\"maxcombo\":\"193\",\"rank\":\"0\",\"count50\":\"6\",\"count100\":\"8\",\"count300\":\"107\",\"countmiss\":\"1\",\"countgeki\":\"26\",\"countkatu\":\"4\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"296778\",\"maxcombo\":\"194\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"4\",\"count300\":\"115\",\"countmiss\":\"1\",\"countgeki\":\"31\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228693137\",\"start_time\":\"2018-06-30 19:13:37\",\"end_time\":\"2018-06-30 19:15:54\",\"beatmap_id\":\"1432825\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"222526\",\"maxcombo\":\"90\",\"rank\":\"0\",\"count50\":\"6\",\"count100\":\"35\",\"count300\":\"134\",\"countmiss\":\"7\",\"countgeki\":\"14\",\"countkatu\":\"15\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"132686\",\"maxcombo\":\"68\",\"rank\":\"0\",\"count50\":\"21\",\"count100\":\"30\",\"count300\":\"121\",\"countmiss\":\"10\",\"countgeki\":\"11\",\"countkatu\":\"7\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"311872\",\"maxcombo\":\"92\",\"rank\":\"0\",\"count50\":\"4\",\"count100\":\"15\",\"count300\":\"161\",\"countmiss\":\"2\",\"countgeki\":\"24\",\"countkatu\":\"10\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"339786\",\"maxcombo\":\"114\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"15\",\"count300\":\"162\",\"countmiss\":\"3\",\"countgeki\":\"24\",\"countkatu\":\"11\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228693859\",\"start_time\":\"2018-06-30 19:18:37\",\"end_time\":\"2018-06-30 19:22:28\",\"beatmap_id\":\"1632044\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"2\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"1\",\"user_id\":\"5573411\",\"score\":\"1809664\",\"maxcombo\":\"255\",\"rank\":\"0\",\"count50\":\"7\",\"count100\":\"85\",\"count300\":\"441\",\"countmiss\":\"6\",\"countgeki\":\"81\",\"countkatu\":\"49\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"2\",\"user_id\":\"9890504\",\"score\":\"49540\",\"maxcombo\":\"9\",\"rank\":\"0\",\"count50\":\"47\",\"count100\":\"147\",\"count300\":\"62\",\"countmiss\":\"288\",\"countgeki\":\"2\",\"countkatu\":\"32\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"2\",\"team\":\"1\",\"user_id\":\"4185808\",\"score\":\"2088188\",\"maxcombo\":\"218\",\"rank\":\"0\",\"count50\":\"12\",\"count100\":\"41\",\"count300\":\"482\",\"countmiss\":\"7\",\"countgeki\":\"109\",\"countkatu\":\"19\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"2\",\"user_id\":\"7051791\",\"score\":\"1052656\",\"maxcombo\":\"148\",\"rank\":\"0\",\"count50\":\"19\",\"count100\":\"136\",\"count300\":\"375\",\"countmiss\":\"12\",\"countgeki\":\"59\",\"countkatu\":\"61\",\"perfect\":\"0\",\"pass\":\"0\"}]},{\"game_id\":\"228695621\",\"start_time\":\"2018-06-30 19:30:50\",\"end_time\":\"2018-06-30 19:33:24\",\"beatmap_id\":\"847387\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"337796\",\"maxcombo\":\"77\",\"rank\":\"0\",\"count50\":\"14\",\"count100\":\"153\",\"count300\":\"259\",\"countmiss\":\"39\",\"countgeki\":\"29\",\"countkatu\":\"55\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"1199888\",\"maxcombo\":\"138\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"69\",\"count300\":\"392\",\"countmiss\":\"2\",\"countgeki\":\"67\",\"countkatu\":\"50\",\"perfect\":\"0\",\"pass\":\"1\"}]}]}"));

        OsuMatch match = osu.getMatch(43785941).complete();
        assertAll("Check values of osu! match are correct.",
            () -> assertEquals(43785941, match.getMatchId()),
            () -> assertEquals("AAAAAAAAAAAAAAAAAAAAAAAAAAA", match.getName()),
            () -> assertEquals(1530382335000L, match.getStartTime().getTime()),
            () -> assertEquals(1530383312000L, match.getEndTime().getTime()),
            () -> assertEquals(10, match.getGames().size())
        );
    }

    @Test
    public void testMatchGameData() throws IOException {
        server.enqueue(new MockResponse().setBody("{\"match\":{\"match_id\":\"43785941\",\"name\":\"AAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"start_time\":\"2018-06-30 18:12:15\",\"end_time\":\"2018-06-30 19:34:49\"},\"games\":[{\"game_id\":\"228686654\",\"start_time\":\"2018-06-30 18:26:25\",\"end_time\":\"2018-06-30 18:28:32\",\"beatmap_id\":\"1369064\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"516074\",\"maxcombo\":\"302\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"3\",\"count300\":\"116\",\"countmiss\":\"0\",\"countgeki\":\"29\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"275192\",\"maxcombo\":\"231\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"11\",\"count300\":\"105\",\"countmiss\":\"3\",\"countgeki\":\"23\",\"countkatu\":\"8\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"6\",\"team\":\"0\",\"user_id\":\"12564776\",\"score\":\"228814\",\"maxcombo\":\"179\",\"rank\":\"0\",\"count50\":\"1\",\"count100\":\"8\",\"count300\":\"112\",\"countmiss\":\"0\",\"countgeki\":\"25\",\"countkatu\":\"8\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228687519\",\"start_time\":\"2018-06-30 18:33:06\",\"end_time\":\"2018-06-30 18:36:59\",\"beatmap_id\":\"1632045\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"1569798\",\"maxcombo\":\"502\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"13\",\"count300\":\"242\",\"countmiss\":\"0\",\"countgeki\":\"56\",\"countkatu\":\"9\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"645946\",\"maxcombo\":\"279\",\"rank\":\"0\",\"count50\":\"5\",\"count100\":\"10\",\"count300\":\"237\",\"countmiss\":\"3\",\"countgeki\":\"51\",\"countkatu\":\"8\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"6\",\"team\":\"0\",\"user_id\":\"12564776\",\"score\":\"247670\",\"maxcombo\":\"102\",\"rank\":\"0\",\"count50\":\"5\",\"count100\":\"27\",\"count300\":\"221\",\"countmiss\":\"2\",\"countgeki\":\"39\",\"countkatu\":\"20\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228688898\",\"start_time\":\"2018-06-30 18:43:28\",\"end_time\":\"2018-06-30 18:45:36\",\"beatmap_id\":\"1575365\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"450624\",\"maxcombo\":\"282\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"3\",\"count300\":\"118\",\"countmiss\":\"0\",\"countgeki\":\"34\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"110230\",\"maxcombo\":\"106\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"22\",\"count300\":\"98\",\"countmiss\":\"1\",\"countgeki\":\"20\",\"countkatu\":\"16\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"449598\",\"maxcombo\":\"282\",\"rank\":\"0\",\"count50\":\"1\",\"count100\":\"3\",\"count300\":\"117\",\"countmiss\":\"0\",\"countgeki\":\"33\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"457968\",\"maxcombo\":\"282\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"1\",\"count300\":\"120\",\"countmiss\":\"0\",\"countgeki\":\"36\",\"countkatu\":\"1\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228689452\",\"start_time\":\"2018-06-30 18:47:32\",\"end_time\":\"2018-06-30 18:51:45\",\"beatmap_id\":\"862325\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"2300478\",\"maxcombo\":\"636\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"2\",\"count300\":\"283\",\"countmiss\":\"0\",\"countgeki\":\"82\",\"countkatu\":\"2\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"643388\",\"maxcombo\":\"269\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"16\",\"count300\":\"269\",\"countmiss\":\"0\",\"countgeki\":\"69\",\"countkatu\":\"15\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"2153080\",\"maxcombo\":\"616\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"2\",\"count300\":\"280\",\"countmiss\":\"1\",\"countgeki\":\"80\",\"countkatu\":\"1\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"2282494\",\"maxcombo\":\"634\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"6\",\"count300\":\"279\",\"countmiss\":\"0\",\"countgeki\":\"78\",\"countkatu\":\"6\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228690801\",\"start_time\":\"2018-06-30 18:57:13\",\"end_time\":\"2018-06-30 18:59:43\",\"beatmap_id\":\"848233\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"221088\",\"maxcombo\":\"182\",\"rank\":\"0\",\"count50\":\"1\",\"count100\":\"10\",\"count300\":\"89\",\"countmiss\":\"27\",\"countgeki\":\"32\",\"countkatu\":\"7\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"89324\",\"maxcombo\":\"44\",\"rank\":\"0\",\"count50\":\"1\",\"count100\":\"23\",\"count300\":\"100\",\"countmiss\":\"3\",\"countgeki\":\"28\",\"countkatu\":\"19\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"153388\",\"maxcombo\":\"128\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"17\",\"count300\":\"101\",\"countmiss\":\"7\",\"countgeki\":\"32\",\"countkatu\":\"15\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"636762\",\"maxcombo\":\"374\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"5\",\"count300\":\"122\",\"countmiss\":\"0\",\"countgeki\":\"46\",\"countkatu\":\"5\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228691362\",\"start_time\":\"2018-06-30 19:01:11\",\"end_time\":\"2018-06-30 19:02:48\",\"beatmap_id\":\"33165\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"57582\",\"maxcombo\":\"63\",\"rank\":\"0\",\"count50\":\"10\",\"count100\":\"19\",\"count300\":\"56\",\"countmiss\":\"25\",\"countgeki\":\"5\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"118168\",\"maxcombo\":\"80\",\"rank\":\"0\",\"count50\":\"9\",\"count100\":\"29\",\"count300\":\"68\",\"countmiss\":\"4\",\"countgeki\":\"8\",\"countkatu\":\"9\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"111744\",\"maxcombo\":\"87\",\"rank\":\"0\",\"count50\":\"8\",\"count100\":\"16\",\"count300\":\"72\",\"countmiss\":\"14\",\"countgeki\":\"7\",\"countkatu\":\"5\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"164266\",\"maxcombo\":\"88\",\"rank\":\"0\",\"count50\":\"6\",\"count100\":\"11\",\"count300\":\"91\",\"countmiss\":\"2\",\"countgeki\":\"15\",\"countkatu\":\"2\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228692263\",\"start_time\":\"2018-06-30 19:07:31\",\"end_time\":\"2018-06-30 19:09:31\",\"beatmap_id\":\"763440\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"416754\",\"maxcombo\":\"241\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"7\",\"count300\":\"115\",\"countmiss\":\"0\",\"countgeki\":\"30\",\"countkatu\":\"7\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"116286\",\"maxcombo\":\"79\",\"rank\":\"0\",\"count50\":\"5\",\"count100\":\"17\",\"count300\":\"100\",\"countmiss\":\"0\",\"countgeki\":\"20\",\"countkatu\":\"12\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"278626\",\"maxcombo\":\"193\",\"rank\":\"0\",\"count50\":\"6\",\"count100\":\"8\",\"count300\":\"107\",\"countmiss\":\"1\",\"countgeki\":\"26\",\"countkatu\":\"4\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"296778\",\"maxcombo\":\"194\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"4\",\"count300\":\"115\",\"countmiss\":\"1\",\"countgeki\":\"31\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228693137\",\"start_time\":\"2018-06-30 19:13:37\",\"end_time\":\"2018-06-30 19:15:54\",\"beatmap_id\":\"1432825\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"222526\",\"maxcombo\":\"90\",\"rank\":\"0\",\"count50\":\"6\",\"count100\":\"35\",\"count300\":\"134\",\"countmiss\":\"7\",\"countgeki\":\"14\",\"countkatu\":\"15\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"132686\",\"maxcombo\":\"68\",\"rank\":\"0\",\"count50\":\"21\",\"count100\":\"30\",\"count300\":\"121\",\"countmiss\":\"10\",\"countgeki\":\"11\",\"countkatu\":\"7\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"311872\",\"maxcombo\":\"92\",\"rank\":\"0\",\"count50\":\"4\",\"count100\":\"15\",\"count300\":\"161\",\"countmiss\":\"2\",\"countgeki\":\"24\",\"countkatu\":\"10\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"339786\",\"maxcombo\":\"114\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"15\",\"count300\":\"162\",\"countmiss\":\"3\",\"countgeki\":\"24\",\"countkatu\":\"11\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228693859\",\"start_time\":\"2018-06-30 19:18:37\",\"end_time\":\"2018-06-30 19:22:28\",\"beatmap_id\":\"1632044\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"2\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"1\",\"user_id\":\"5573411\",\"score\":\"1809664\",\"maxcombo\":\"255\",\"rank\":\"0\",\"count50\":\"7\",\"count100\":\"85\",\"count300\":\"441\",\"countmiss\":\"6\",\"countgeki\":\"81\",\"countkatu\":\"49\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"2\",\"user_id\":\"9890504\",\"score\":\"49540\",\"maxcombo\":\"9\",\"rank\":\"0\",\"count50\":\"47\",\"count100\":\"147\",\"count300\":\"62\",\"countmiss\":\"288\",\"countgeki\":\"2\",\"countkatu\":\"32\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"2\",\"team\":\"1\",\"user_id\":\"4185808\",\"score\":\"2088188\",\"maxcombo\":\"218\",\"rank\":\"0\",\"count50\":\"12\",\"count100\":\"41\",\"count300\":\"482\",\"countmiss\":\"7\",\"countgeki\":\"109\",\"countkatu\":\"19\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"2\",\"user_id\":\"7051791\",\"score\":\"1052656\",\"maxcombo\":\"148\",\"rank\":\"0\",\"count50\":\"19\",\"count100\":\"136\",\"count300\":\"375\",\"countmiss\":\"12\",\"countgeki\":\"59\",\"countkatu\":\"61\",\"perfect\":\"0\",\"pass\":\"0\"}]},{\"game_id\":\"228695621\",\"start_time\":\"2018-06-30 19:30:50\",\"end_time\":\"2018-06-30 19:33:24\",\"beatmap_id\":\"847387\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"337796\",\"maxcombo\":\"77\",\"rank\":\"0\",\"count50\":\"14\",\"count100\":\"153\",\"count300\":\"259\",\"countmiss\":\"39\",\"countgeki\":\"29\",\"countkatu\":\"55\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"1199888\",\"maxcombo\":\"138\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"69\",\"count300\":\"392\",\"countmiss\":\"2\",\"countgeki\":\"67\",\"countkatu\":\"50\",\"perfect\":\"0\",\"pass\":\"1\"}]}]}"));

        MatchGame game = osu.getMatch(43785941).complete().getGames().get(0);
        assertAll("Check values of osu! match game entity are correct.",
            () -> assertEquals(228686654, game.getGameId()),
            () -> assertEquals(1530383185000L, game.getStartTime().getTime()),
            () -> assertEquals(1530383312000L, game.getEndTime().getTime()),
            () -> assertEquals(1369064, game.getBeatmapId()),
            () -> assertEquals(OsuMode.OSU, game.getMode()),
            () -> assertEquals(OsuScoreType.SCORE, game.getScoring()),
            () -> assertEquals(OsuTeamType.HEAD_TO_HEAD, game.getTeamType()),
            () -> assertTrue(game.getMods().isEmpty()),
            () -> assertEquals(3, game.getScores().size())
        );
    }

    @Test
    public void testMatchGameScoreData() throws IOException {
        server.enqueue(new MockResponse().setBody("{\"match\":{\"match_id\":\"43785941\",\"name\":\"AAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"start_time\":\"2018-06-30 18:12:15\",\"end_time\":\"2018-06-30 19:34:49\"},\"games\":[{\"game_id\":\"228686654\",\"start_time\":\"2018-06-30 18:26:25\",\"end_time\":\"2018-06-30 18:28:32\",\"beatmap_id\":\"1369064\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"516074\",\"maxcombo\":\"302\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"3\",\"count300\":\"116\",\"countmiss\":\"0\",\"countgeki\":\"29\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"275192\",\"maxcombo\":\"231\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"11\",\"count300\":\"105\",\"countmiss\":\"3\",\"countgeki\":\"23\",\"countkatu\":\"8\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"6\",\"team\":\"0\",\"user_id\":\"12564776\",\"score\":\"228814\",\"maxcombo\":\"179\",\"rank\":\"0\",\"count50\":\"1\",\"count100\":\"8\",\"count300\":\"112\",\"countmiss\":\"0\",\"countgeki\":\"25\",\"countkatu\":\"8\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228687519\",\"start_time\":\"2018-06-30 18:33:06\",\"end_time\":\"2018-06-30 18:36:59\",\"beatmap_id\":\"1632045\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"1569798\",\"maxcombo\":\"502\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"13\",\"count300\":\"242\",\"countmiss\":\"0\",\"countgeki\":\"56\",\"countkatu\":\"9\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"645946\",\"maxcombo\":\"279\",\"rank\":\"0\",\"count50\":\"5\",\"count100\":\"10\",\"count300\":\"237\",\"countmiss\":\"3\",\"countgeki\":\"51\",\"countkatu\":\"8\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"6\",\"team\":\"0\",\"user_id\":\"12564776\",\"score\":\"247670\",\"maxcombo\":\"102\",\"rank\":\"0\",\"count50\":\"5\",\"count100\":\"27\",\"count300\":\"221\",\"countmiss\":\"2\",\"countgeki\":\"39\",\"countkatu\":\"20\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228688898\",\"start_time\":\"2018-06-30 18:43:28\",\"end_time\":\"2018-06-30 18:45:36\",\"beatmap_id\":\"1575365\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"450624\",\"maxcombo\":\"282\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"3\",\"count300\":\"118\",\"countmiss\":\"0\",\"countgeki\":\"34\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"110230\",\"maxcombo\":\"106\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"22\",\"count300\":\"98\",\"countmiss\":\"1\",\"countgeki\":\"20\",\"countkatu\":\"16\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"449598\",\"maxcombo\":\"282\",\"rank\":\"0\",\"count50\":\"1\",\"count100\":\"3\",\"count300\":\"117\",\"countmiss\":\"0\",\"countgeki\":\"33\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"457968\",\"maxcombo\":\"282\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"1\",\"count300\":\"120\",\"countmiss\":\"0\",\"countgeki\":\"36\",\"countkatu\":\"1\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228689452\",\"start_time\":\"2018-06-30 18:47:32\",\"end_time\":\"2018-06-30 18:51:45\",\"beatmap_id\":\"862325\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"2300478\",\"maxcombo\":\"636\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"2\",\"count300\":\"283\",\"countmiss\":\"0\",\"countgeki\":\"82\",\"countkatu\":\"2\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"643388\",\"maxcombo\":\"269\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"16\",\"count300\":\"269\",\"countmiss\":\"0\",\"countgeki\":\"69\",\"countkatu\":\"15\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"2153080\",\"maxcombo\":\"616\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"2\",\"count300\":\"280\",\"countmiss\":\"1\",\"countgeki\":\"80\",\"countkatu\":\"1\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"2282494\",\"maxcombo\":\"634\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"6\",\"count300\":\"279\",\"countmiss\":\"0\",\"countgeki\":\"78\",\"countkatu\":\"6\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228690801\",\"start_time\":\"2018-06-30 18:57:13\",\"end_time\":\"2018-06-30 18:59:43\",\"beatmap_id\":\"848233\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"221088\",\"maxcombo\":\"182\",\"rank\":\"0\",\"count50\":\"1\",\"count100\":\"10\",\"count300\":\"89\",\"countmiss\":\"27\",\"countgeki\":\"32\",\"countkatu\":\"7\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"89324\",\"maxcombo\":\"44\",\"rank\":\"0\",\"count50\":\"1\",\"count100\":\"23\",\"count300\":\"100\",\"countmiss\":\"3\",\"countgeki\":\"28\",\"countkatu\":\"19\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"153388\",\"maxcombo\":\"128\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"17\",\"count300\":\"101\",\"countmiss\":\"7\",\"countgeki\":\"32\",\"countkatu\":\"15\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"636762\",\"maxcombo\":\"374\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"5\",\"count300\":\"122\",\"countmiss\":\"0\",\"countgeki\":\"46\",\"countkatu\":\"5\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228691362\",\"start_time\":\"2018-06-30 19:01:11\",\"end_time\":\"2018-06-30 19:02:48\",\"beatmap_id\":\"33165\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"57582\",\"maxcombo\":\"63\",\"rank\":\"0\",\"count50\":\"10\",\"count100\":\"19\",\"count300\":\"56\",\"countmiss\":\"25\",\"countgeki\":\"5\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"118168\",\"maxcombo\":\"80\",\"rank\":\"0\",\"count50\":\"9\",\"count100\":\"29\",\"count300\":\"68\",\"countmiss\":\"4\",\"countgeki\":\"8\",\"countkatu\":\"9\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"111744\",\"maxcombo\":\"87\",\"rank\":\"0\",\"count50\":\"8\",\"count100\":\"16\",\"count300\":\"72\",\"countmiss\":\"14\",\"countgeki\":\"7\",\"countkatu\":\"5\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"164266\",\"maxcombo\":\"88\",\"rank\":\"0\",\"count50\":\"6\",\"count100\":\"11\",\"count300\":\"91\",\"countmiss\":\"2\",\"countgeki\":\"15\",\"countkatu\":\"2\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228692263\",\"start_time\":\"2018-06-30 19:07:31\",\"end_time\":\"2018-06-30 19:09:31\",\"beatmap_id\":\"763440\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"416754\",\"maxcombo\":\"241\",\"rank\":\"0\",\"count50\":\"0\",\"count100\":\"7\",\"count300\":\"115\",\"countmiss\":\"0\",\"countgeki\":\"30\",\"countkatu\":\"7\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"116286\",\"maxcombo\":\"79\",\"rank\":\"0\",\"count50\":\"5\",\"count100\":\"17\",\"count300\":\"100\",\"countmiss\":\"0\",\"countgeki\":\"20\",\"countkatu\":\"12\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"278626\",\"maxcombo\":\"193\",\"rank\":\"0\",\"count50\":\"6\",\"count100\":\"8\",\"count300\":\"107\",\"countmiss\":\"1\",\"countgeki\":\"26\",\"countkatu\":\"4\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"296778\",\"maxcombo\":\"194\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"4\",\"count300\":\"115\",\"countmiss\":\"1\",\"countgeki\":\"31\",\"countkatu\":\"3\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228693137\",\"start_time\":\"2018-06-30 19:13:37\",\"end_time\":\"2018-06-30 19:15:54\",\"beatmap_id\":\"1432825\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"222526\",\"maxcombo\":\"90\",\"rank\":\"0\",\"count50\":\"6\",\"count100\":\"35\",\"count300\":\"134\",\"countmiss\":\"7\",\"countgeki\":\"14\",\"countkatu\":\"15\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"0\",\"user_id\":\"9890504\",\"score\":\"132686\",\"maxcombo\":\"68\",\"rank\":\"0\",\"count50\":\"21\",\"count100\":\"30\",\"count300\":\"121\",\"countmiss\":\"10\",\"countgeki\":\"11\",\"countkatu\":\"7\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"311872\",\"maxcombo\":\"92\",\"rank\":\"0\",\"count50\":\"4\",\"count100\":\"15\",\"count300\":\"161\",\"countmiss\":\"2\",\"countgeki\":\"24\",\"countkatu\":\"10\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"0\",\"user_id\":\"7051791\",\"score\":\"339786\",\"maxcombo\":\"114\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"15\",\"count300\":\"162\",\"countmiss\":\"3\",\"countgeki\":\"24\",\"countkatu\":\"11\",\"perfect\":\"0\",\"pass\":\"1\"}]},{\"game_id\":\"228693859\",\"start_time\":\"2018-06-30 19:18:37\",\"end_time\":\"2018-06-30 19:22:28\",\"beatmap_id\":\"1632044\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"2\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"1\",\"user_id\":\"5573411\",\"score\":\"1809664\",\"maxcombo\":\"255\",\"rank\":\"0\",\"count50\":\"7\",\"count100\":\"85\",\"count300\":\"441\",\"countmiss\":\"6\",\"countgeki\":\"81\",\"countkatu\":\"49\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"1\",\"team\":\"2\",\"user_id\":\"9890504\",\"score\":\"49540\",\"maxcombo\":\"9\",\"rank\":\"0\",\"count50\":\"47\",\"count100\":\"147\",\"count300\":\"62\",\"countmiss\":\"288\",\"countgeki\":\"2\",\"countkatu\":\"32\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"2\",\"team\":\"1\",\"user_id\":\"4185808\",\"score\":\"2088188\",\"maxcombo\":\"218\",\"rank\":\"0\",\"count50\":\"12\",\"count100\":\"41\",\"count300\":\"482\",\"countmiss\":\"7\",\"countgeki\":\"109\",\"countkatu\":\"19\",\"perfect\":\"0\",\"pass\":\"1\"},{\"slot\":\"3\",\"team\":\"2\",\"user_id\":\"7051791\",\"score\":\"1052656\",\"maxcombo\":\"148\",\"rank\":\"0\",\"count50\":\"19\",\"count100\":\"136\",\"count300\":\"375\",\"countmiss\":\"12\",\"countgeki\":\"59\",\"countkatu\":\"61\",\"perfect\":\"0\",\"pass\":\"0\"}]},{\"game_id\":\"228695621\",\"start_time\":\"2018-06-30 19:30:50\",\"end_time\":\"2018-06-30 19:33:24\",\"beatmap_id\":\"847387\",\"play_mode\":\"0\",\"match_type\":\"0\",\"scoring_type\":\"0\",\"team_type\":\"0\",\"mods\":\"0\",\"scores\":[{\"slot\":\"0\",\"team\":\"0\",\"user_id\":\"5573411\",\"score\":\"337796\",\"maxcombo\":\"77\",\"rank\":\"0\",\"count50\":\"14\",\"count100\":\"153\",\"count300\":\"259\",\"countmiss\":\"39\",\"countgeki\":\"29\",\"countkatu\":\"55\",\"perfect\":\"0\",\"pass\":\"0\"},{\"slot\":\"2\",\"team\":\"0\",\"user_id\":\"4185808\",\"score\":\"1199888\",\"maxcombo\":\"138\",\"rank\":\"0\",\"count50\":\"2\",\"count100\":\"69\",\"count300\":\"392\",\"countmiss\":\"2\",\"countgeki\":\"67\",\"countkatu\":\"50\",\"perfect\":\"0\",\"pass\":\"1\"}]}]}"));

        MatchGameScore score = osu.getMatch(43785941).complete().getGames().get(0).getScores().get(0);
        assertAll("Check values of osu! match game score entity are correct.",
            () -> assertEquals(0, score.getSlot()),
            () -> assertNull(score.getTeam()),
            () -> assertEquals(5573411, score.getUserId()),
            () -> assertEquals(516074, score.getScore()),
            () -> assertEquals(302, score.getMaxCombo()),
            () -> assertEquals(2, score.getCount50()),
            () -> assertEquals(3, score.getCount100()),
            () -> assertEquals(116, score.getCount300()),
            () -> assertEquals(0, score.getCountMiss()),
            () -> assertEquals(29, score.getCountGeki()),
            () -> assertEquals(3, score.getCountKatu()),
            () -> assertFalse(score.isPerfect()),
            () -> assertTrue(score.isPass())
        );
    }
}
